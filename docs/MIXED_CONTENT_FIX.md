# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Mixed Content –æ—à–∏–±–æ–∫

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ HTTPS –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ HTTP —Ä–µ—Å—É—Ä—Å–∞–º (Mixed Content). –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏:
- `ERR_SSL_PROTOCOL_ERROR`
- `Mixed Content: The page was loaded over HTTPS, but requested an insecure resource`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤ URL –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ HTTPS
2. **–ö–æ—Ä—Ä–µ–∫—Ü–∏—è URL**: –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ HTTPS, –∞ URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP - –ø—Ä–æ—Ç–æ–∫–æ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ HTTPS
3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º URL**: –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫:
   - Presigned URLs
   - –ü—Ä—è–º—ã–º URL —Ñ–∞–π–ª–æ–≤
   - –í—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º –∫ MinIO

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –î–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ HTTPS –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx** –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞ 9000 –Ω–∞ HTTPS (—Å–º. `docs/NGINX_MINIO_HTTPS.md`)
2. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP** –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **Endpoint**: `http://dmed.gubkin.uz:9000` (HTTP)
- **–ê–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è**: –í–∫–ª—é—á–µ–Ω–∞ (–∑–∞–º–µ–Ω—è–µ—Ç HTTP –Ω–∞ HTTPS –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –ø–æ HTTPS)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã Mixed Content –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞ 9000 –Ω–∞ HTTPS:

```nginx
# –î–æ–±–∞–≤—å—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π server –±–ª–æ–∫ –¥–ª—è –ø–æ—Ä—Ç–∞ 9001
location ~ ^/(atgedu|uploads|videos|stations)/ {
    proxy_pass http://127.0.0.1:9000;
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ docs/NGINX_MINIO_HTTPS.md
}
```

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –ó–∞–ø—Ä–æ—Å—ã –∫ `https://dmed.gubkin.uz/atgedu/...` –±—É–¥—É—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ `http://127.0.0.1:9000`
- –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- Mixed Content –æ—à–∏–±–∫–∏ –∏—Å—á–µ–∑–Ω—É—Ç

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ HTTPS**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å Mixed Content –æ—à–∏–±–æ–∫
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–æ HTTPS

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS –¥–ª—è MinIO –Ω–∞–ø—Ä—è–º—É—é
–¢—Ä–µ–±—É–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è MinIO —Å–µ—Ä–≤–µ—Ä–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Nginx reverse proxy (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ
‚úÖ –ì–∏–±–∫–æ
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SSL
‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ MinIO

## üîç –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: `window.location.protocol` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `https:`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL —Ñ–∞–π–ª–æ–≤**: –î–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `https://`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**: –î–æ–ª–∂–Ω–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø–æ—Ä—Ç 9000
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç:
- –ü—Ä–æ—Ç–æ–∫–æ–ª —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ URL (–≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è


