# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "Access Denied"

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–∞–π–ª–∞ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É:
```xml
<Error>
  <Code>AccessDenied</Code>
  <Message>Access Denied.</Message>
</Error>
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–Ø –æ–±–Ω–æ–≤–∏–ª —Å–µ—Ä–≤–∏—Å MinIO –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **Presigned URLs** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º.

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

1. **–û–±–Ω–æ–≤–ª–µ–Ω endpoint**: `https://files.dormitory.gubkin.uz`
2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è presigned URLs** –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
3. **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–æ–∫**: 7 –¥–Ω–µ–π
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞:
```javascript
// –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ MinIO
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è presigned URL
// URL –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 7 –¥–Ω–µ–π
const result = await minioService.uploadFile(file)
// result.url —Å–æ–¥–µ—Ä–∂–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π presigned URL
```

### –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ñ–∞–π–ª–æ–≤:
```javascript
// –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç presigned URLs
const files = await minioService.listFiles()
// –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –∏–º–µ–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π URL
```

### –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞:
- –ù–∞–∂–∞—Ç–∏–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –ø–æ presigned URL
- –ù–∞–∂–∞—Ç–∏–µ "–°–∫–∞—á–∞—Ç—å" —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª –ø–æ presigned URL
- –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞!

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ MinIO Console)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª—ã –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production):

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ MinIO Console
https://files.dormitory.gubkin.uz
- Login: `admin`
- Password: `1234bobur$`

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ bucket policy

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Buckets** ‚Üí `uploads`
2. –ù–∞–∂–º–∏—Ç–µ **Anonymous** –∏–ª–∏ **Access Policy**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Custom**
4. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –ø–æ–ª–∏—Ç–∏–∫—É:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "AWS": ["*"]
      },
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::uploads/*"
      ]
    }
  ]
}
```

5. –ù–∞–∂–º–∏—Ç–µ **Save**

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –ª—é–±–æ–π —Ñ–∞–π–ª ‚Äî –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

## ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Presigned URLs (—Ç–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚úÖ
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ - —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (—Å—Å—ã–ª–∫–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ credentials
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –°—Å—ã–ª–∫–∏ –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π (–Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å)

### –ü—É–±–ª–∏—á–Ω—ã–π bucket ‚ùå
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –õ—é–±–æ–π –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª—ã
- ‚ùå –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
- ‚ùå –†–∏—Å–∫ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://localhost:3001/admin
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–§–∞–π–ª—ã"
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∫—Ä—É–≥–ª–∞—è –∏–∫–æ–Ω–∫–∞)
4. –î–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ bucket
5. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä" –Ω–∞ –ª—é–±–æ–º —Ñ–∞–π–ª–µ
6. –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫!

## üîÑ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –∏—Å—Ç–µ–∫–ª–∞

Presigned URLs –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 7 –¥–Ω–µ–π. –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. –í–∫–ª–∞–¥–∫–∞ "–§–∞–π–ª—ã"
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. –í—Å–µ —Ñ–∞–π–ª—ã –ø–æ–ª—É—á–∞—Ç –Ω–æ–≤—ã–µ presigned URLs

**–ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```javascript
// –í AdminPanel.vue —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏
const handleTabChange = (tabName) => {
  if (tabName === 'files') {
    loadFiles() // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç URLs
  }
}
```

## üéØ –ò—Ç–æ–≥

‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è presigned URLs
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MinIO
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** - –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è presigned URLs:

```javascript
// –í src/services/minioService.js
// –ù–∞–π–¥–∏—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ expiresIn:

// –¢–µ–∫—É—â–µ–µ: 7 –¥–Ω–µ–π
const fileUrl = await getPresignedDownloadUrl(item.Key, 7 * 24 * 60 * 60)

// –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 30 –¥–Ω–µ–π:
const fileUrl = await getPresignedDownloadUrl(item.Key, 30 * 24 * 60 * 60)

// –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 1 —á–∞—Å:
const fileUrl = await getPresignedDownloadUrl(item.Key, 3600)
```

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ `src/services/minioService.js`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ MinIO –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `https://files.dormitory.gubkin.uz`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –≤ MinIO Console –Ω–∞–ø—Ä—è–º—É—é

**–í—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ**

