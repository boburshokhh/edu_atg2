# MinIO - –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**Endpoint**: `https://files.dormitory.gubkin.uz`  
**Bucket**: `uploads`  
**Credentials**:
- Access Key: `admin`
- Secret Key: `1234bobur$`

**–ú–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–∞**: Presigned URLs (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏)  
**–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–æ–∫**: 7 –¥–Ω–µ–π

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
```
http://localhost:3001/admin
```

### 2. –í–∫–ª–∞–¥–∫–∞ "–§–∞–π–ª—ã"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑ MinIO
- –í—Å–µ —Ñ–∞–π–ª—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ presigned URLs
- –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, —Å–∫–∞—á–∏–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã"
3. –§–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç presigned URLs

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤
- –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä" - —Ñ–∞–π–ª –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
- –ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å" - —Ñ–∞–π–ª —Å–∫–∞—á–∞–µ—Ç—Å—è
- –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å" - —Ñ–∞–π–ª —É–¥–∞–ª–∏—Ç—Å—è –∏–∑ MinIO

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ bucket `uploads`:

```
uploads/
‚îú‚îÄ‚îÄ 1234567890-document.pdf
‚îú‚îÄ‚îÄ 1234567891-image.jpg
‚îú‚îÄ‚îÄ folder/
‚îÇ   ‚îî‚îÄ‚îÄ 1234567892-file.txt
‚îî‚îÄ‚îÄ ...
```

–ò–º—è —Ñ–∞–π–ª–∞ = `timestamp-original_name`

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Presigned URLs
- ‚úÖ –¢—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ credentials
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ (–∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏
- ‚úÖ –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ MinIO

### Credentials
**–í–ê–ñ–ù–û**: –í production –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ credentials –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è!

–°–æ–∑–¥–∞–π—Ç–µ `.env`:
```env
VITE_MINIO_ENDPOINT=https://files.dormitory.gubkin.uz
VITE_MINIO_ACCESS_KEY=admin
VITE_MINIO_SECRET_KEY=1234bobur$
VITE_MINIO_BUCKET=uploads
```

–û–±–Ω–æ–≤–∏—Ç–µ `src/services/minioService.js`:
```javascript
const MINIO_CONFIG = {
  endpoint: import.meta.env.VITE_MINIO_ENDPOINT,
  credentials: {
    accessKeyId: import.meta.env.VITE_MINIO_ACCESS_KEY,
    secretAccessKey: import.meta.env.VITE_MINIO_SECRET_KEY
  },
  ...
}
```

## üìä –§—É–Ω–∫—Ü–∏–∏

### –ó–∞–≥—Ä—É–∑–∫–∞
```javascript
const result = await minioService.uploadFile(file, 'folder')
// result.url - presigned URL
```

### –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
```javascript
const files = await minioService.listFiles()
// –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –∏–º–µ–µ—Ç presigned URL
```

### –£–¥–∞–ª–µ–Ω–∏–µ
```javascript
await minioService.deleteFile('objectName')
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ secure URL
```javascript
const url = await minioService.getSecureFileUrl('objectName', 3600)
// URL –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 —á–∞—Å
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è URLs

–í `src/services/minioService.js`:

```javascript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞
const fileUrl = await getPresignedDownloadUrl(objectName, 7 * 24 * 60 * 60) // 7 –¥–Ω–µ–π

// –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞
fileUrl = await getPresignedDownloadUrl(item.Key, 30 * 24 * 60 * 60) // 30 –¥–Ω–µ–π
```

### –ò–∑–º–µ–Ω–∏—Ç—å bucket

```javascript
const DEFAULT_BUCKET = 'your-bucket-name'
```

### –ò–∑–º–µ–Ω–∏—Ç—å endpoint

```javascript
const MINIO_CONFIG = {
  endpoint: 'https://your-minio-domain.com',
  ...
}
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:
- –ó–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ presigned URLs
- –û—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞

### MinIO Console
https://files.dormitory.gubkin.uz
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞

## ‚ùì FAQ

### –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª –∏—Å—Ç–µ–∫–ª–∞
**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–∫–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

### –û—à–∏–±–∫–∞ "Access Denied"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ `minioService.js`

### –§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ bucket `uploads` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ MinIO

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ù–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤, –µ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

‚úÖ MinIO –ø–æ–¥–∫–ª—é—á–µ–Ω  
‚úÖ Presigned URLs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã  
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º  
‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≥–æ—Ç–æ–≤–∞  
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞/–ø—Ä–æ—Å–º–æ—Ç—Ä/—É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç  

**–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É!**

