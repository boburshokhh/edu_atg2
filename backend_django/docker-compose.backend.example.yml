# Пример конфигурации backend сервиса для добавления в docker-compose.yml
# Скопируйте этот блок в ваш существующий docker-compose.yml файл

backend:
  build:
    context: ./backend
    dockerfile: docker/Dockerfile
  container_name: edu_backend
  restart: always
  depends_on:
    - postgres
  environment:
    # PostgreSQL
    POSTGRES_HOST: postgres
    POSTGRES_PORT: 5432
    POSTGRES_DB: atg_edu
    POSTGRES_USER: admin
    POSTGRES_PASSWORD: 1602atgbobur
    # MinIO
    MINIO_ENDPOINT: http://minio:9000
    MINIO_ACCESS_KEY: admin
    MINIO_SECRET_KEY: 1602atgbobur
    MINIO_BUCKET: atgedu
    # Django
    DJANGO_SECRET_KEY: ${DJANGO_SECRET_KEY:-change-me-in-production}
    DJANGO_DEBUG: 0
    DJANGO_ALLOWED_HOSTS: localhost,127.0.0.1,0.0.0.0
    CORS_ORIGINS: *
    # JWT
    JWT_ACCESS_SECRET: ${JWT_ACCESS_SECRET:-change-me}
    JWT_REFRESH_SECRET: ${JWT_REFRESH_SECRET:-change-me}
    # Timezone
    TZ: UTC
  ports:
    - "8000:8000"
  networks:
    - edu_network
  # Раскомментируйте следующую строку для разработки (монтирует код в контейнер)
  # volumes:
  #   - ./backend:/app





